<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="sort.js"></script>
</head>
<body>
<script>
/**
 * @param {ListNode} head
 * @param {number} n
 * @return {ListNode}
 */
 const removeNthFromEnd = function(head, n) {
  let dummy = new ListNode()
  dummy.next = head
  let fast = dummy
  let slow = dummy
  // 快指针先行n
  while(n !== 0) {
    fast = fast.next
    n--
  }
  // 快慢指针一起遍历到底
  while(!fast.next) {
    fast = fast.next
    slow = slow.next
  }
  // 删除第n个节点
  slow.next = slow.next.next
  return dummy.next
}

/**
 * @param {ListNode} head
 * @return {ListNode}
 */
 const reverseList = function(head) {
  let pre = null
  let cur = head
  while(cur !== null) {
    // 保存next的后继节点
    let next = cur.next
    // 反转
    cur.next = pre
    // pre往前移动
    pre = cur
    // cur往前移动
    cur = next
  }
  return pre
}



// 局部反转一个链表

const reverseBetween = function (head, m, n) {
  let pre = null
  let cur = null
  let leftHead = null
  // 创建dummy节点
  let dummy = new NodeList()
  // 指向head
  dummy.next = head
  // 创建游标p
  let p = dummy
  // 找出区间的前驱节点
  for (let i = 0; i < m - 1; i++) {
    p = p.next
  }
  // 缓存区间的前驱结点
  leftHead = p
  // 区间的开始节点（即反转后的区间尾结点）
  let start = leftHead.next
  pre = start
  cur = pre.next
  // 开始反转
  for (let i = m; i < n; i++) {
    // 存储后继节点
    let next = cur.next
    // 反转链表
    cur.next = pre
    // pre前进
    pre = cur
    // cur前进
    cur = next
  }
  // leftHead指向 反转后的head
  leftHead.next = pre
  // 反转后的区间尾结点指向 cur
  start.next = cur
  return dummy.next
}
</script>
</body>
</html>